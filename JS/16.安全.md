# 运行环境

## web安全

* 问题：常见的web前端攻击方式有哪些
  * XSS跨网站请求攻击
  * 跨站请求伪造

## XSS攻击

* 一个博客网站，发表一段博客，嵌入`<script>`脚本
* 脚本内容：获取cookie，发送到我的服务器（服务器配合跨域）
* 发表博客，有人查看，轻松收割访问者的cookie

## XSS预防

* 替换特殊字符，如`< 变成 &lt；> 变为&gt`
* `<script>变为&lt;script&gt;`直接显示，不会作为脚本执行
* 前端要替换，后端也要替换，都做总不会有错

## XSRF攻击

* 正在购物，看中商品，商品id是100
* 付费接口是 xxx.com/pay？id=100，但是没有验证
* 攻击者，看中商品id=200，想让你购买
* 发送一个电子邮件，标题很吸引人
* 但是邮件正文隐藏着`<img src=xxx/com/pay？id=200>`
* 一查看邮件，就帮我购买了

## XSRF 预防

* 使用post接口
* 增加验证，例如密码，短信验证码，指纹等